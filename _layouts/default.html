<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% if page.title %}{{ page.title }} | {{ site.title }}{% else %}{{ site.title }}{% endif %}</title>
    <meta name="description" content="{{ page.subheadline | default: site.description | strip_html }}">
    <meta name="keywords" content="{{ page.tags | join: ', ' | default: site.keywords | join: ', ' }}"> 

    <script>
        (function() {
            try {
                const isDarkMode = window.AndroidInterface.getDarkModeStatus() === 'true';
                if (isDarkMode) {
                    document.documentElement.classList.add('dark-mode');
                }
            } catch (e) {
                console.log('Flicker-Fix: Not in app. Defaulting to light mode.');
            }
        })();
    </script>
    <link rel="stylesheet" href="{{ '/assets/style/style.css' | relative_url }}">
    <link rel="stylesheet" href="{{ '/assets/style/index-menu.css' | relative_url }}">
    <link rel="stylesheet" href="{{ '/assets/style/home.css' | relative_url }}">
    <link rel="stylesheet" href="{{ '/assets/style/dark-mode.css' | relative_url }}">   
    
    <link rel="apple-touch-icon" sizes="180x180" href="{{ '/apple-touch-icon.png' | relative_url }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ '/favicon-32x32.png' | relative_url }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ '/favicon-16x16.png' | relative_url }}">
    <link rel="manifest" href="{{ '/site.webmanifest' | relative_url }}">
    <link rel="icon" type="image/png" sizes="192x192" href="{{ '/android-chrome-192x192.png' | relative_url }}">
    <link rel="icon" type="image/png" sizes="512x512" href="{{ '/android-chrome-512x512.png' | relative_url }}">
    <link rel="icon" href="{{ '/favicon.ico' | relative_url }}" sizes="any">
    <link rel="icon" href="{{ '/favicon.svg' | relative_url }}" type="image/svg+xml">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"> 
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>    
    {% for css_file in page.extra_css %}
        <link rel="stylesheet" href="{{ css_file | relative_url }}">
    {% endfor %}
</head>
<body class="{{ page.body_class }} flex flex-col min-h-screen" data-base-path="{{ site.baseurl }}" data-latest-post-url="{{ site.posts.first.url | relative_url }}"> 
    <div id="header-placeholder"></div>
    <div class="main-content-wrapper" style="flex-grow: 1;">
        {{ content }}
    </div>   
    {% include site-footer.html %}  
    <div id="bottom-nav-placeholder"></div>   
    <script src="{{ '/assets/header-injector.js' | relative_url }}"></script>
    <script src="{{ '/assets/bottom-nav.js' | relative_url }}"></script> 
    {% for js_file in page.extra_js %}
        <script src="{{ js_file | relative_url }}"></script>
    {% endfor %} 
</body>
</html>